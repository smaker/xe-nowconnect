<div cond="$XE_VALIDATOR_MESSAGE" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
	<p>{$XE_VALIDATOR_MESSAGE}</p>
</div>

<form ruleset="insertNowconnect" action="./" method="post" enctype="multipart/form-data" class="x_form-horizontal">
	<input type="hidden" name="module" value="nowconnect" />
	<input type="hidden" name="act" value="procNowconnectAdminUpdate" />
	<input type="hidden" name="module_srl" value="{$module_info->module_srl}" />
	<input cond="$mid || $module_srl" type="hidden" name="success_return_url" value="{getRequestUriByServerEnviroment()}" />
	<section class="section">
		<h1>{$lang->subtitle_primary} <button type="button" class="snToggle x_icon-chevron-up">Toggle this section</button></h1>
		<div class="x_control-group">
			<label class="x_control-label" for="nowconnect_name">{$lang->mid}</label>
			<div class="x_controls">
				<input type="text" name="nowconnect_name" id="nowconnect_name" value="{$module_info->mid}" />
				<a href="#aboutMid" data-toggle class="x_icon-question-sign">{$lang->help}</a>
				<p class="x_help-block" id="aboutMid" hidden>{$lang->about_mid}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="lang_browser_title">{$lang->browser_title}</label>
			<div class="x_controls">
				<input type="text" name="browser_title" id="browser_title" value="{$module_info->browser_title}"  class="lang_code"/>
				<a href="#aboutBrowserTitle" data-toggle class="x_icon-question-sign">{$lang->help}</a>
				<p class="x_help-block" id="aboutBrowserTitle" hidden>{$lang->about_browser_title}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="layout_srl">{$lang->layout}</label>
			<div class="x_controls">
				<select name="layout_srl" id="layout_srl">
					<option value="0">{$lang->notuse}</option>
					<option loop="$layout_list => $key, $val" value="{$val->layout_srl}" selected="selected"|cond="$module_info->layout_srl==$val->layout_srl">{$val->title} ({$val->layout})</option>
				</select>
				<a href="#aboutLayout" data-toggle class="x_icon-question-sign">{$lang->help}</a>
				<p class="x_help-block" id="aboutLayout" hidden>{$lang->about_layout}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="skin">{$lang->skin}</label>
			<div class="x_controls">
				<select name="skin" id="skin" style="width:auto">
					<option loop="$skin_list=> $key, $val" value="{$key}" selected="selected"|cond="$module_info->skin== $key || (!$module_info->skin && $key=='default')">{$val->title}</option>
				</select>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="header_text">{$lang->header_text}</label>
			<div class="x_controls">
				<textarea name="header_text" id="header_text" class="lang_code" rows="8" cols="42" placeholder="{$lang->about_header_text}">{htmlspecialchars($module_info->header_text)}</textarea>
				<a href="#header_text_help" class="x_icon-question-sign" data-toggle>{$lang->help}</a>
				<p id="header_text_help" class="x_help-block" hidden>{$lang->about_header_text}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="footer_text">{$lang->footer_text}</label>
			<div class="x_controls">
				<textarea name="footer_text" id="footer_text" class="lang_code" rows="8" cols="42" placeholder="{$lang->about_footer_text}">{htmlspecialchars($module_info->footer_text)}</textarea>
				<a href="#footer_text_help" class="x_icon-question-sign" data-toggle>{$lang->help}</a>
				<p id="footer_text_help" class="x_help-block" hidden>{$lang->about_footer_text}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="api_key">{$lang->api_site_url}</label>
			<div class="x_controls">
				<div class="x_input-append x_input-prepend">
					<span class="x_add-on">http://</span>
					<input type="text" name="api_site_url" id="api_site_url" placeholder="{$lang->api_site_url}" value="{htmlspecialchars($module_info->api_site_url)}" style="height:20px !important">
					<span class="x_add-on">/</span> 
					<a href="#api_site_url_help" class="x_icon-question-sign" data-toggle>{$lang->help}</a>
				</div>
				<p id="api_site_url_help" class="x_help-block" hidden>{$lang->about_api_site_url}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="api_key">API 키</label>
			<div class="x_controls">
				<input type="text" name="api_key" id="api_key" placeholder="API 키" value="{htmlspecialchars($module_info->api_key)}" style="width:320px;"> 
				<a href="#api_key_help" class="x_icon-question-sign" data-toggle>{$lang->help}</a>
				<p id="api_key_help" class="x_help-block" hidden>{$lang->about_api_key}</p>
			</div>
		</div>
	</section>
	<section class="section">
		<h1>{$lang->subtitle_advanced} <button type="button" class="snToggle x_icon-chevron-up">Toggle this section</button></h1>
		<div class="x_control-group">
			<label class="x_control-label" for="list_count">{$lang->list_count}</label>
			<div class="x_controls">
				<input type="text" name="list_count" id="list_count" value="{$module_info->list_count?$module_info->list_count:20}" style="width:30px" />
				<p class="x_help-inline">{$lang->about_nowconnect_list_count}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="page_count">{$lang->page_count}</label>
			<div class="x_controls">
				<input type="text" name="page_count" id="page_count" value="{$module_info->page_count?$module_info->page_count:20}" style="width:30px" />
				<p class="x_help-inline">{$lang->about_page_count}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="exclude_admin">{$lang->exclude_admin}</label>
			<div class="x_controls">
				<select name="exclude_admin" id="exclude_admin">
					<option value="Y" selected="selected"|cond="$module_info->exclude_admin=='Y'">{$lang->yes}</option>
					<option value="N" selected="selected"|cond="$module_info->exclude_admin=='N'">{$lang->not}</option>
				</select>
				<a href="#aboutExcludeAdmin" data-toggle class="x_icon-question-sign">{$lang->help}</a>
				<p class="x_help-block" id="aboutExcludeAdmin" hidden>{$lang->about_exclude_admin}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="use_realtime">{$lang->use_realtime}</label>
			<div class="x_controls">
				<select name="use_realtime" id="use_realtime">
					<option value="N" selected="selected"|cond="$module_info->use_realtime=='N'">{$lang->notuse}</option>

					<option value="Y" selected="selected"|cond="$module_info->use_realtime=='Y'">{$lang->use}</option>
				</select>
				<a href="#aboutUseRealtime" data-toggle class="x_icon-question-sign">{$lang->help}</a>
				<p class="x_help-block" id="aboutUseRealtime" hidden>{$lang->about_use_realtime}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="realtime_duration">{$lang->realtime_duration}</label>
			<div class="x_controls">
				<input type="number" name="realtime_duration" value="{$module_info->realtime_duration}" style="width:60px">
				<p class="x_help-inline">{$lang->about_realtime_duration}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="exclude_ip">제외 IP</label>
			<div class="x_controls">
				<textarea name="exclude_ip" rows="4" id="exclude_ip">{htmlspecialchars($module_info->exclude_ip)}</textarea>
				<p class="x_help-inline">특정 IP를 접속자 현황 수집에서 제외할 수 있습니다.</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="module_category_srl">{$lang->module_category}</label>
			<div class="x_controls">
				<select name="module_category_srl" id="module_category_srl">
					<option value="0">{$lang->notuse}</option>
					<option loop="$module_category => $key, $val" value="{$key}" selected="selected"|cond="$module_info->module_category_srl==$key">{$val->title}</option>
				</select>
				<a href="#aboutCategory" data-toggle class="x_icon-question-sign">{$lang->help}</a>
				<p class="x_help-block" id="aboutCategory" hidden>{$lang->about_module_category}</p>
			</div>
		</div>
		<div class="x_control-group">
			<label class="x_control-label" for="description">{$lang->description}</label>
			<div class="x_controls">
				<textarea name="description" id="description" rows="4" cols="42" placeholder="{$lang->about_description}">{htmlspecialchars($module_info->description)}</textarea>
				<a href="#description_help" class="x_icon-question-sign" data-toggle>{$lang->help}</a>
				<p id="description_help" class="x_help-block" hidden>{$lang->about_description}</p>
			</div>
		</div>
	</section>
	<div class="btnArea">
		<span class="btn"><input type="submit" value="{$lang->cmd_submit}" /></span>
	</div>
</form>